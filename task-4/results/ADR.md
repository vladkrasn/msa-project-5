# Task 4

## Автор: Владимир Красночуб

### Дата: 09/09/2025

### Функциональные требования

|**№**|**Действующие лица или системы**|**Use Case**|**Описание**|
| :-: | :- | :- | :- |
|1|Пользователь|Загрузка файла|Валидация файла|
|2|Пользователь|Загрузка файла|Сохранение файла в хранилище|
|3|Пользователь|Загрузка файла|Апдейт данных в базе в соответствии с загруженным файлом|
|4|Пользователь|Загрузка файла|Получение фидбека о том что файл обрабатывается|

### Нефункциональные требования

Опишите здесь нефункциональные требования и архитектурно значимые требования.

|**№**|**Требование**|
| :-: | :- |
|1|Стек Java, т.к. знаком инженерам|
|2|Обработка данных не должна влиять на производительность самого приложения|
|3|Обновление данных в реальном времени некритично, можно просто делать регулярную пакетную обработку|

### Решение

Реализовать комплекс Spring Batch скриптов, которые вынесены в отдельные микросервисы.
Файлы, загружаемые пользователями, помещаются во временное хранилище, оттуда читаются скриптами, которые загружают данные в базы и рассылают уведомления об успешной обработке.

В качестве POC можно иметь скрипты в существующем Java-монолите, но важно иметь ввиду, что это временное решение, которое не адресует проблему соревнования за ресурсы между приложением и процессом загрузки данных. Вскоре скрипты надо будет выносить в отдельные сервисы.

В будущем, если количество и сложность скриптов будет расти, возможен переход на полноценный дата-кластер с Spring Cloud Data Flow, который оркестрирует множество скриптов. Это большая зрелая платформа.

### Альтернативы

Есть альтернативы на другом стеке (например, Airflow-Python), но они потребуют большего обучения сотрудников.

#### Недостатки, ограничения, риски

Spring Batch внутри приложения -> Spring Batch снаружи -> Оркестрация с SCDF.
Каждый шаг потребует новой экспертизы от команды, это не то чем они раньше занимались!
